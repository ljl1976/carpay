# ğŸš— ç”¨è½¦è®¢å•å®¡è®¡ç³»ç»Ÿ - Next.js 15

> åŸºäº Next.js 15 çš„å…¨æ ˆç”¨è½¦è®¢å•å®¡è®¡ç³»ç»Ÿ,æ”¯æŒ Excel æ–‡ä»¶ä¸Šä¼ ã€è‡ªåŠ¨å®¡è®¡ã€AI å¢å¼ºåˆ†æå’Œé£é™©æŠ¥å‘Šç”Ÿæˆã€‚

[![Next.js](https://img.shields.io/badge/Next.js-15-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18-blue)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://www.typescriptlang.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3-38bdf8)](https://tailwindcss.com/)

---

## âš¡ å¿«é€Ÿå¼€å§‹

### 3 æ­¥å®Œæˆéƒ¨ç½²

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.local.example .env.local
# ç¼–è¾‘ .env.local å¡«å†™ AI ç½‘å…³é…ç½®

# 2. æ¨é€åˆ° GitHub
git add .
git commit -m "éƒ¨ç½² Next.js 15 ç‰ˆæœ¬"
git push

# 3. éƒ¨ç½²åˆ° EdgeOne Pages
# è®¿é—® https://console.cloud.tencent.com/edgeone/pages
# ä» Git å¯¼å…¥ â†’ é€‰æ‹© Next.js â†’ é…ç½®ç¯å¢ƒå˜é‡ â†’ éƒ¨ç½²
```

**è¯¦ç»†æ­¥éª¤**: æŸ¥çœ‹ [QUICK-START.md](QUICK-START.md)

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### âœ… å®¡è®¡åŠŸèƒ½

- **Excel æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒ .xlsx, .xls æ ¼å¼
- **8 æ¡å®¡è®¡è§„åˆ™** - å…¨é¢è¦†ç›–ç”¨è½¦åˆè§„æ€§æ£€æŸ¥
- **AI å¢å¼ºå®¡è®¡** - ä½¿ç”¨ Gemini AI è¿›è¡ŒäºŒæ¬¡å®¡è®¡
- **å®æ—¶ç»Ÿè®¡** - æ€»è®¢å•ã€åˆè§„ã€ä¸åˆè§„ã€åˆè§„ç‡
- **ç»“æœå±•ç¤º** - è¡¨æ ¼æ˜¾ç¤º,æ”¯æŒæ’åºå’Œç­›é€‰
- **ç»“æœä¸‹è½½** - å¯¼å‡º Excel æ–‡ä»¶

### ğŸ“Š å®¡è®¡è§„åˆ™

1. **ä¸Šåˆ9ç‚¹å‰åˆ°å…¬å¸æ‰“è½¦** - æ£€æµ‹ç–‘ä¼¼ä¸Šç­æ‰“è½¦
2. **KTVã€è¶³æµ´åº—ç­‰ä¼šæ‰€** - ç¦æ­¢å¨±ä¹åœºæ‰€ç”¨è½¦
3. **"åŠ ç­"ç”¨è¯** - è§„èŒƒç”¨è½¦ç†ç”±æè¿°
4. **"æ¥""é€"å®¢æˆ·** - ç¦æ­¢æ¥é€å®¢æˆ·ç”¨è¯
5. **"æ‹›å¾…""æ¥å¾…"å®¢æˆ·** - ç¦æ­¢æ‹›å¾…æ¥å¾…ç”¨è¯
6. **æ›¿ä»–äººæ‰“è½¦** - ç¦æ­¢ä»£ä»–äººç”¨è½¦
7. **é«˜é¢è´¹ç”¨æˆ–è±ªåè½¦å‹** - æ£€æµ‹å¼‚å¸¸é«˜é¢è´¹ç”¨
8. **ç”¨è½¦ç±»å‹ä¸è¡¥å……è¯´æ˜åŒ¹é…åº¦** - æ£€æµ‹é«˜ä»·è½¦å‹å¿…è¦æ€§

### ğŸ¤– AI å¢å¼º

- ä½¿ç”¨ **Gemini AI** è¿›è¡Œæ™ºèƒ½å®¡è®¡
- é€šè¿‡ **EdgeOne AI Gateway** è°ƒç”¨
- æé«˜å®¡è®¡å‡†ç¡®æ€§å’Œè¦†ç›–ç‡

### ğŸ“ˆ é£é™©æŠ¥å‘Š

- **æ€»ä½“æ¦‚å†µ** - åˆè§„ç‡ã€ä¸åˆè§„è®¢å•æ•°
- **é£é™©åˆ†ç±»ç»Ÿè®¡** - å„ç±»è¿è§„çš„æ•°é‡åˆ†å¸ƒ
- **é«˜é£é™©äººå‘˜** - è¯†åˆ«é¢‘ç¹è¿è§„çš„å‘˜å·¥
- **å»ºè®®æªæ–½** - è‡ªåŠ¨ç”Ÿæˆæ”¹è¿›å»ºè®®

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: [Next.js 15](https://nextjs.org/) (App Router)
- **è¯­è¨€**: [TypeScript](https://www.typescriptlang.org/)
- **UI**: [React 18](https://reactjs.org/)
- **æ ·å¼**: [Tailwind CSS](https://tailwindcss.com/)
- **Excel**: [xlsx](https://www.npmjs.com/package/xlsx)
- **HTTP**: [axios](https://axios-http.com/)
- **AI**: Gemini (via EdgeOne AI Gateway)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
carpay/
â”œâ”€â”€ app/                          # Next.js åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ api/                      # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ audit/route.ts        # å®¡è®¡ API
â”‚   â”‚   â””â”€â”€ risk-report/route.ts  # é£é™©æŠ¥å‘Š API
â”‚   â”œâ”€â”€ components/               # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ StatsCards.tsx
â”‚   â”‚   â”œâ”€â”€ UploadSection.tsx
â”‚   â”‚   â”œâ”€â”€ ResultsTable.tsx
â”‚   â”‚   â”œâ”€â”€ RulesSettings.tsx
â”‚   â”‚   â””â”€â”€ RiskReport.tsx
â”‚   â”œâ”€â”€ layout.tsx                # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx                  # ä¸»é¡µé¢
â”‚   â””â”€â”€ globals.css               # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json                  # ä¾èµ–é…ç½®
â”œâ”€â”€ next.config.js                # Next.js é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â””â”€â”€ .env.local                    # ç¯å¢ƒå˜é‡
```

**è¯¦ç»†è¯´æ˜**: æŸ¥çœ‹ [PROJECT-STRUCTURE.md](PROJECT-STRUCTURE.md)

---

## ğŸš€ æœ¬åœ°å¼€å‘

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.local.example` ä¸º `.env.local`:

```bash
cp .env.local.example .env.local
```

ç¼–è¾‘ `.env.local` å¡«å†™é…ç½®:

```env
AI_GATEWAY_URL=https://ai-gateway-intl.eo-edgefunctions7.com/v1/models/gemini-pro:generateContent
AI_GATEWAY_KEY=ä½ çš„å¯†é’¥
OE_KEY=ä½ çš„å¯†é’¥
OE_GATEWAY_NAME=gemini
OE_AI_PROVIDER=gemini
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

---

## ğŸ“¤ éƒ¨ç½²

### æ¨è: EdgeOne Pages

**ä¼˜åŠ¿:**
- âœ… ä¸­å›½å¤§é™†è®¿é—®é€Ÿåº¦å¿«
- âœ… å…è´¹ CDN å’Œ SSL
- âœ… æ·±åº¦é›†æˆ Next.js
- âœ… è¾¹ç¼˜è®¡ç®—

**æ­¥éª¤:**

1. æ¨é€ä»£ç åˆ° GitHub
2. è®¿é—® [EdgeOne Pages æ§åˆ¶å°](https://console.cloud.tencent.com/edgeone/pages)
3. ä» Git å¯¼å…¥é¡¹ç›®
4. é€‰æ‹© **Next.js** æ¡†æ¶
5. é…ç½®ç¯å¢ƒå˜é‡
6. éƒ¨ç½²

**è¯¦ç»†æŒ‡å—**: æŸ¥çœ‹ [DEPLOY-GUIDE.md](DEPLOY-GUIDE.md)

---

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [START-HERE-NEXTJS.md](START-HERE-NEXTJS.md) | ğŸŒŸ å¼€å§‹æŒ‡å— - ä»è¿™é‡Œå¼€å§‹ |
| [QUICK-START.md](QUICK-START.md) | âš¡ å¿«é€Ÿå¼€å§‹ - 3 æ­¥å®Œæˆéƒ¨ç½² |
| [DEPLOY-GUIDE.md](DEPLOY-GUIDE.md) | ğŸ“– éƒ¨ç½²æŒ‡å— - è¯¦ç»†éƒ¨ç½²æ­¥éª¤ |
| [PROJECT-STRUCTURE.md](PROJECT-STRUCTURE.md) | ğŸ“ é¡¹ç›®ç»“æ„ - ä»£ç ç»„ç»‡è¯´æ˜ |
| [MIGRATION-SUMMARY.md](MIGRATION-SUMMARY.md) | ğŸ”„ è¿ç§»æ€»ç»“ - Express â†’ Next.js |
| [CLEANUP-SUMMARY.md](CLEANUP-SUMMARY.md) | ğŸ§¹ æ¸…ç†æ€»ç»“ - é¡¹ç›®æ¸…ç†è®°å½• |
| [PRE-DEPLOYMENT-CHECKLIST.md](PRE-DEPLOYMENT-CHECKLIST.md) | âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å• |

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### 1. å‡†å¤‡ Excel æ–‡ä»¶

ç¡®ä¿ Excel æ–‡ä»¶åŒ…å«åä¸º **"ç”¨è½¦è®¢å•"** çš„ sheet,åŒ…å«ä»¥ä¸‹åˆ—:

- ä¸‹å•äººå§“å
- å¼€å§‹è®¡è´¹æ—¶é—´
- å®é™…å‡ºå‘åœ°
- å®é™…ç›®çš„åœ°
- ä¼ä¸šå®ä»˜é‡‘é¢
- è¡¥å……è¯´æ˜
- ç”¨è½¦ç±»å‹(æ˜ç»†)

### 2. ä¸Šä¼ å¹¶å®¡è®¡

1. ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"æŒ‰é’®
2. é€‰æ‹© Excel æ–‡ä»¶
3. ç‚¹å‡»"ä¸Šä¼ å¹¶å®¡è®¡"
4. ç­‰å¾…å®¡è®¡å®Œæˆ

### 3. æŸ¥çœ‹ç»“æœ

- **ç»Ÿè®¡å¡ç‰‡** - æŸ¥çœ‹æ€»ä½“åˆè§„æƒ…å†µ
- **ç»“æœè¡¨æ ¼** - æŸ¥çœ‹æ¯æ¡è®¢å•çš„å®¡è®¡ç»“æœ
- **æ’åºç­›é€‰** - ç‚¹å‡»è¡¨å¤´è¿›è¡Œæ’åº

### 4. ä¸‹è½½ç»“æœ

ç‚¹å‡»"ä¸‹è½½å®¡è®¡ç»“æœ"æŒ‰é’®,å¯¼å‡ºåŒ…å«å®¡è®¡ç»“æœçš„ Excel æ–‡ä»¶ã€‚

### 5. ç”Ÿæˆé£é™©æŠ¥å‘Š

ç‚¹å‡»"æŸ¥çœ‹é£é™©æŠ¥å‘Š"æŒ‰é’®,æŸ¥çœ‹è¯¦ç»†çš„é£é™©åˆ†ææŠ¥å‘Šã€‚

---

## â“ å¸¸è§é—®é¢˜

### Q: éƒ¨ç½²å API æŠ¥é”™?

A: æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®,ç‰¹åˆ«æ˜¯ AI ç½‘å…³ç›¸å…³é…ç½®ã€‚

### Q: æ–‡ä»¶ä¸Šä¼ å¤±è´¥?

A: ç¡®ä¿ Excel æ–‡ä»¶åŒ…å«"ç”¨è½¦è®¢å•" sheet,ä¸”æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 50MBã€‚

### Q: AI å®¡è®¡ä¸å·¥ä½œ?

A: æ£€æŸ¥ `AI_GATEWAY_URL` å’Œ `AI_GATEWAY_KEY` æ˜¯å¦æ­£ç¡®é…ç½®ã€‚

### Q: æ¡†æ¶é¢„è®¾æ‰¾ä¸åˆ° Next.js?

A: é€‰æ‹© "Other" æˆ– "è‡ªå®šä¹‰",æ‰‹åŠ¨å¡«å†™:
- æ„å»ºå‘½ä»¤: `npm run build`
- è¾“å‡ºç›®å½•: `.next`

**æ›´å¤šé—®é¢˜**: æŸ¥çœ‹ [DEPLOY-GUIDE.md](DEPLOY-GUIDE.md) çš„å¸¸è§é—®é¢˜éƒ¨åˆ†

---

## ğŸ”§ å¼€å‘

### æ·»åŠ æ–°çš„å®¡è®¡è§„åˆ™

ç¼–è¾‘ `app/api/audit/route.ts`,åœ¨ `auditRules` å¯¹è±¡ä¸­æ·»åŠ æ–°è§„åˆ™:

```typescript
const auditRules = {
  // ... ç°æœ‰è§„åˆ™
  
  rule9: (row: any) => {
    // ä½ çš„è§„åˆ™é€»è¾‘
    if (/* æ¡ä»¶ */) {
      return 'å®¡è®¡ç»“æœæè¿°'
    }
    return null
  }
}
```

### è‡ªå®šä¹‰æ ·å¼

ç¼–è¾‘ `app/globals.css` æˆ–ä½¿ç”¨ Tailwind CSS ç±»åã€‚

### ä¿®æ”¹ AI æç¤ºè¯

ç¼–è¾‘ `app/api/audit/route.ts` ä¸­çš„ `callAIAudit` å‡½æ•°ã€‚

---

## ğŸ“„ License

MIT

---

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [è…¾è®¯äº‘ EdgeOne Pages](https://edgeone.ai/) - éƒ¨ç½²å¹³å°
- [Gemini AI](https://ai.google.dev/) - AI å®¡è®¡

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®,è¯·æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£æˆ–æäº¤ Issueã€‚

---

**å¼€å§‹ä½¿ç”¨**: æŸ¥çœ‹ [START-HERE-NEXTJS.md](START-HERE-NEXTJS.md) ğŸš€

